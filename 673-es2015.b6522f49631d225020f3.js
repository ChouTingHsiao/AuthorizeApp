"use strict";(self.webpackChunkauthorize_example=self.webpackChunkauthorize_example||[]).push([[673],{5673:function(t,e,n){n.r(e),n.d(e,{MainModule:function(){return $t}});var o=n(8583),i=n(3679),a=n(6983),r=n(7716);let c=(()=>{class t{constructor(t){this.router=t}canActivate(){const t=localStorage.getItem("UserRole"),e=t&&t.length>0;return e?console.log(`Role:${t}`):(console.log("Not Login"),this.router.navigate(["/Login"])),e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.F0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=n(3190),s=n(8002),d=n(7574),u=n(9922),g=n(6151);let m=(()=>{class t{constructor(t,e,n){this.router=t,this.menuService=e,this.groupProgramService=n}canActivate(t,e){return new d.y(t=>{let n=!1;this.menuService.getAll().pipe((0,l.w)(t=>this.groupProgramService.getAll().pipe((0,s.U)(e=>({menus:t,groupPrograms:e}))))).subscribe(({menus:o,groupPrograms:i})=>{const a=localStorage.getItem("UserGroup"),r=e.url.split("/")[2],c=o.filter(t=>t.linkTag===r);c[0]&&c[0].program.length>0&&(n=i.filter(t=>t.group===a&&t.program===c[0].program).length>0),n||(console.log("Not Auth"),this.router.navigate(["/401"])),t.next(n),t.complete()})})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.F0),r.LFG(u.h),r.LFG(g.i))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=n(8913),h=n(974),f=n(3065),b=n(37),y=n(4001),D=n(3738),Z=n(1552),C=n(1769);function v(t,e){1&t&&(r.TgZ(0,"mat-icon",8),r._uU(1,"gps_fixed"),r.qZA())}function w(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"p",6),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().SetGroup(e)}),r.YNc(1,v,2,0,"mat-icon",7),r._uU(2),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.Q6J("ngIf",t.isActive),r.xp6(1),r.hij(" \xa0\xa0",t.name," ")}}function A(t,e){if(1&t&&(r.TgZ(0,"p"),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" \xa0\xa0",t.linkTag," ")}}let x=(()=>{class t{constructor(t,e,n,o){this.store=t,this.groupService=e,this.roleService=n,this.groupProgramService=o}ngOnInit(){const t=localStorage.getItem("UserRole");this.role=this.roleService.getByRoleId(t),this.groups=this.groupService.getByAuth(),this.dashBoardGroups=this.groups.pipe((0,s.U)(t=>this.ActiveGroup(t,"")));const e=localStorage.getItem("UserGroup");this.groupPrograms=this.groupProgramService.getByGroupId(e)}SetGroup(t){localStorage.setItem("UserGroup",t.id),this.store.dispatch(new p.OS(h.f.Menus)),this.dashBoardGroups=this.groups.pipe((0,s.U)(e=>this.ActiveGroup(e,t.id)))}ActiveGroup(t,e){const n=localStorage.getItem("UserGroup");return this.groupPrograms=this.groupProgramService.getByGroupId(n),t.forEach(t=>{t.isActive=!1,t.id===n&&(t.isActive=!0)}),t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(f.yh),r.Y36(b.l),r.Y36(y.N),r.Y36(g.i))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-dashboard"]],decls:32,vars:9,consts:[[1,"container","in550-1550","theme-center"],[1,"example-card"],["mat-card-avatar","",1,"font-theme"],[1,"theme-left","container"],[3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"click"],["class","font-theme",4,"ngIf"],[1,"font-theme"]],template:function(t,e){if(1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"mat-card",1),r.TgZ(2,"mat-card-header"),r.TgZ(3,"mat-icon",2),r._uU(4,"assignment_ind"),r.qZA(),r.TgZ(5,"mat-card-title"),r._uU(6,"Your Role"),r.qZA(),r.qZA(),r._UZ(7,"mat-divider"),r.TgZ(8,"mat-card-content",3),r.TgZ(9,"p"),r._uU(10),r.ALo(11,"async"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"mat-card",1),r.TgZ(13,"mat-card-header"),r.TgZ(14,"mat-icon",2),r._uU(15,"supervisor_account"),r.qZA(),r.TgZ(16,"mat-card-title"),r._uU(17,"Your Group"),r.qZA(),r.qZA(),r._UZ(18,"mat-divider"),r.TgZ(19,"mat-card-content",3),r.YNc(20,w,3,2,"p",4),r.ALo(21,"async"),r.qZA(),r.qZA(),r.TgZ(22,"mat-card",1),r.TgZ(23,"mat-card-header"),r.TgZ(24,"mat-icon",2),r._uU(25,"airplay"),r.qZA(),r.TgZ(26,"mat-card-title"),r._uU(27,"Authorize Program"),r.qZA(),r.qZA(),r._UZ(28,"mat-divider"),r.TgZ(29,"mat-card-content",3),r.YNc(30,A,2,1,"p",5),r.ALo(31,"async"),r.qZA(),r.qZA(),r.qZA()),2&t){let t;r.xp6(10),r.hij(" \xa0\xa0",null==(t=r.lcZ(11,3,e.role))?null:t.remark," "),r.xp6(10),r.Q6J("ngForOf",r.lcZ(21,5,e.dashBoardGroups)),r.xp6(10),r.Q6J("ngForOf",r.lcZ(31,7,e.groupPrograms))}},directives:[D.a8,D.dk,Z.Hw,D.kc,D.n5,C.d,D.dn,o.sg,o.O5],pipes:[o.Ov],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}table[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 550px){mat-card.example-card[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 550px) and (max-width: 1050px){.in550-1550[_ngcontent-%COMP%]   .example-card[_ngcontent-%COMP%]{width:25%}}.example-card[_ngcontent-%COMP%]{display:inline-block;width:29%;margin-left:.1em;margin-right:.1em;vertical-align:top}.container[_ngcontent-%COMP%]{margin:3%}.font-theme[_ngcontent-%COMP%]{color:#221b2e}"]}),t})();var _=n(433);(0,f.ZF)(h.f.Users),(0,f.ZF)(h.f.Roles),(0,f.ZF)(h.f.Groups),(0,f.ZF)(h.f.GroupPrograms),(0,f.ZF)(h.f.Programs),(0,f.ZF)(h.f.Buttons);const O=(0,f.ZF)(h.f.Menus);var T=n(2522),M=n(1095),P=n(3017),q=n(7746);const N=function(t){return[t]};function k(t,e){if(1&t&&(r.TgZ(0,"a",10),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.s9C("id",t.name),r.Q6J("routerLink",r.VKq(3,N,t.linkTag)),r.xp6(1),r.Oqu(t.name)}}const S=function(){return["Main"]};let U=(()=>{class t{constructor(t,e,n){this.router=t,this.store=e,this.menuService=n,this.title="Authorize"}ngOnInit(){this.store.dispatch(new p.OS(h.f.Menus)),this.store.select(O).subscribe(t=>{this.menus=this.menuService.getAuthMenus((0,_.$N)(t))})}Logout(){localStorage.clear(),this.router.navigate(["/Login"])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.F0),r.Y36(f.yh),r.Y36(u.h))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-main"]],decls:22,vars:7,consts:[[1,"toolbar-header","dark-theme"],["mat-icon-button","","aria-label","Menu",1,"dark-theme",3,"click"],[3,"routerLink"],[1,"toolbar-seprator"],["mat-icon-button","","aria-label","Logout",1,"dark-theme",3,"click"],[1,"toolbar-container"],["mode","side",1,"dark-theme"],["sideNav",""],["mat-list-item","","class","dark-theme",3,"id","routerLink",4,"ngFor","ngForOf"],[1,"theme-center","display-none"],["mat-list-item","",1,"dark-theme",3,"id","routerLink"]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-toolbar",0),r.TgZ(1,"button",1),r.NdJ("click",function(){return r.CHM(t),r.MAs(13).toggle()}),r.TgZ(2,"mat-icon"),r._uU(3),r.qZA(),r.qZA(),r._uU(4,"\xa0 "),r.TgZ(5,"span",2),r._uU(6),r.qZA(),r._UZ(7,"span",3),r.TgZ(8,"button",4),r.NdJ("click",function(){return e.Logout()}),r.TgZ(9,"mat-icon"),r._uU(10,"exit_to_app"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"mat-sidenav-container",5),r.TgZ(12,"mat-sidenav",6,7),r.TgZ(14,"mat-nav-list"),r.YNc(15,k,2,5,"a",8),r.ALo(16,"async"),r.qZA(),r.qZA(),r.TgZ(17,"mat-sidenav-content"),r.TgZ(18,"div",9),r.TgZ(19,"span"),r._uU(20,"Hello!!"),r.qZA(),r.qZA(),r._UZ(21,"router-outlet"),r.qZA(),r.qZA()}if(2&t){const t=r.MAs(13);r.xp6(3),r.Oqu(t.opened?"close":"menu"),r.xp6(2),r.Q6J("routerLink",r.DdM(6,S)),r.xp6(1),r.Oqu(e.title),r.xp6(9),r.Q6J("ngForOf",r.lcZ(16,4,e.menus))}},directives:[T.Ye,M.lW,Z.Hw,a.rH,P.TM,P.JX,q.Hk,o.sg,P.Rh,a.lC,q.Tg,a.yS],pipes:[o.Ov],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}table[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 900px){mat-toolbar.toolbar-header[_ngcontent-%COMP%]{height:2em}mat-sidenav-container.toolbar-container[_ngcontent-%COMP%]{margin-top:2em}}.toolbar-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:2;height:3em;box-shadow:4px 4px 12px -2px #33336680}.toolbar-seprator[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar-container[_ngcontent-%COMP%]{position:absolute;margin-top:3em;top:0;bottom:0;left:0;right:0}"]}),t})();var G=n(9092),J=(()=>{return(t=J||(J={})).string="string",t.input="input",t.label="label",t.select="select",t.multiselect="multiselect",J;var t})(),Y=n(9709);let R=(()=>{class t{constructor(t,e,n,o){this.router=t,this.templateRef=e,this.viewContainer=n,this.groupProgramService=o,this.AuthorizeDictionary={}}ngOnInit(){this.viewContainer.createEmbeddedView(this.templateRef);const t=this.router.url.split("/")[2];this.groupProgramService.getByLink(t).subscribe(t=>{t.forEach(t=>{this.AuthorizeDictionary[t.name]=t.isEnable})})}ngAfterViewChecked(){for(const[t,e]of Object.entries(this.AuthorizeDictionary))e||this.templateRef.elementRef.nativeElement.ownerDocument.querySelectorAll(`button#${t}:not([disabled])`).forEach(t=>{t.disabled=!0,t.style.cssText="background-color : gray; color : white;"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.F0),r.Y36(r.Rgc),r.Y36(r.s_b),r.Y36(g.i))},t.\u0275dir=r.lG2({type:t,selectors:[["","appAuthorize",""]]}),t})();var F=n(1494),I=n(2091),Q=n(9692),H=n(7238);let K=(()=>{class t{constructor(t){this.viewContainerRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b))},t.\u0275dir=r.lG2({type:t,selectors:[["","appDynamicHost",""]]}),t})();var E=n(8295),L=n(9983);let B=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-input"]],decls:3,vars:2,consts:[["matInput","",3,"placeholder","ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.TgZ(0,"mat-form-field"),r.TgZ(1,"input",0),r.NdJ("ngModelChange",function(t){return e.column.value=t}),r.qZA(),r.qZA(),r._UZ(2,"br")),2&t&&(r.xp6(1),r.s9C("placeholder",e.column.columnDef),r.Q6J("ngModel",e.column.value))},directives:[E.KE,L.Nt,i.Fj,i.JJ,i.On],styles:[""]}),t})(),j=(()=>{class t{constructor(){}ngOnInit(){this.visible=this.column.visible||!0===this.column.visible?"":"none"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-label"]],decls:3,vars:3,template:function(t,e){1&t&&(r.TgZ(0,"label"),r._uU(1),r.qZA(),r._UZ(2,"br")),2&t&&(r.Udp("display",e.visible),r.xp6(1),r.hij(" ",e.column.value,"\n"))},styles:[""]}),t})();var $=n(7441),z=n(2458);function X(t,e){if(1&t&&(r.TgZ(0,"mat-option",1),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t.id),r.xp6(1),r.hij(" ",t.name," ")}}let W=(()=>{class t{constructor(){this.default="",this.entityToArray=t=>(0,_.$N)(t)}ngOnInit(){this.source=this.column.source()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-select"]],decls:9,vars:7,consts:[[3,"ngModel","name","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.TgZ(0,"mat-form-field"),r.TgZ(1,"mat-label"),r._uU(2),r.qZA(),r.TgZ(3,"mat-select",0),r.NdJ("ngModelChange",function(t){return e.column.value=t})("selectionChange",function(t){return e.onChanges(t)}),r.TgZ(4,"mat-option",1),r._uU(5,"--"),r.qZA(),r.YNc(6,X,2,2,"mat-option",2),r.ALo(7,"async"),r.qZA(),r.qZA(),r._UZ(8,"br")),2&t&&(r.xp6(2),r.Oqu(e.column.columnDef),r.xp6(1),r.s9C("name",e.column.columnDef),r.Q6J("ngModel",e.column.value),r.xp6(1),r.Q6J("value",e.default),r.xp6(2),r.Q6J("ngForOf",e.entityToArray(r.lcZ(7,5,e.source))))},directives:[E.KE,E.hX,$.gD,i.JJ,i.On,z.ey,o.sg],pipes:[o.Ov],styles:[""]}),t})();function V(t,e){if(1&t&&(r.TgZ(0,"mat-option",1),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t.id),r.xp6(1),r.hij(" ",t.name," ")}}let tt=(()=>{class t{constructor(){this.default="",this.entityToArray=t=>(0,_.$N)(t)}ngOnInit(){this.source=this.column.source()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-multiselect"]],decls:9,vars:7,consts:[["multiple","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.TgZ(0,"mat-form-field"),r.TgZ(1,"mat-label"),r._uU(2),r.qZA(),r.TgZ(3,"mat-select",0),r.NdJ("ngModelChange",function(t){return e.column.value=t})("selectionChange",function(t){return e.onChanges(t)}),r.TgZ(4,"mat-option",1),r._uU(5,"--"),r.qZA(),r.YNc(6,V,2,2,"mat-option",2),r.ALo(7,"async"),r.qZA(),r.qZA(),r._UZ(8,"br")),2&t&&(r.xp6(2),r.Oqu(e.column.columnDef),r.xp6(1),r.s9C("name",e.column.columnDef),r.Q6J("ngModel",e.column.value),r.xp6(1),r.Q6J("value",e.default),r.xp6(2),r.Q6J("ngForOf",e.entityToArray(r.lcZ(7,5,e.source))))},directives:[E.KE,E.hX,$.gD,i.JJ,i.On,z.ey,o.sg],pipes:[o.Ov],styles:[""]}),t})();var et=n(2238);const nt=["content"];let ot=(()=>{class t{constructor(t){this.componentFactoryResolver=t,this.ComponentDictionary={}}dynamicAddComponent(t){let e;switch(t.selector){case J.input:e=this.componentFactoryResolver.resolveComponentFactory(B);break;case J.select:e=this.componentFactoryResolver.resolveComponentFactory(W);break;case J.multiselect:e=this.componentFactoryResolver.resolveComponentFactory(tt);break;default:e=this.componentFactoryResolver.resolveComponentFactory(j)}const n=this.dynamicComponentLoader.viewContainerRef.createComponent(e),o=n.instance;o.onChanges=this.onChanges?this.onChanges:()=>{},this.ComponentDictionary[t.columnDef]=o,o.column=t,n.changeDetectorRef.detectChanges()}getData(){const t={};for(const[e,n]of Object.entries(this.ComponentDictionary))t[e]=n.column.value;return t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r._Vd))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-dialog"]],viewQuery:function(t,e){if(1&t&&(r.Gf(K,7),r.Gf(nt,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.dynamicComponentLoader=t.first),r.iGM(t=r.CRH())&&(e.content=t.first)}},decls:10,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],["content",""],["appDynamicHost",""],["align","end"],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.TgZ(0,"h2",0),r._uU(1),r.qZA(),r.TgZ(2,"mat-dialog-content",1,2),r.GkF(4,3),r.qZA(),r.TgZ(5,"mat-dialog-actions",4),r.TgZ(6,"button",5),r.NdJ("click",function(){return e.confirm()}),r._uU(7),r.qZA(),r.TgZ(8,"button",6),r._uU(9),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.Oqu(e.DialogData.title),r.xp6(6),r.Oqu(e.DialogData.button[0]),r.xp6(1),r.Q6J("mat-dialog-close",!0),r.xp6(1),r.Oqu(e.DialogData.button[1]))},directives:[et.uh,et.xY,K,et.H8,M.lW,et.ZT],styles:[""]}),t})();function it(t){console.log(t.active),console.log(t.direction)}function at(t){console.log(t)}function rt(t){const e=t.filter(t=>!1!==t.visible).map(t=>t.columnDef);return["maintain"].concat(e)}function ct(t,e,n){return o=>{const i=t.open(ot),a=i.componentInstance;return a.DialogData=o,a.onChanges=o.onChanges,a.confirm=o.confirm,a.ColumnArray=function(t,e){return void 0!==t&&e.forEach(e=>{e.value=t[e.columnDef]}),e}(o.data,e),a.ColumnArray.forEach(t=>{a.dynamicAddComponent(t)}),i.afterClosed().subscribe(n),a}}var lt=n(4885);function st(t,e){1&t&&r._UZ(0,"th",10)}function dt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",11),r.TgZ(1,"button",12),r.NdJ("click",function(e){const n=r.CHM(t).$implicit;return r.oxw().edit(n,e)}),r._uU(2,"Edit"),r.qZA(),r._uU(3,"\xa0 "),r.TgZ(4,"button",13),r.NdJ("click",function(e){const n=r.CHM(t).$implicit;return r.oxw().gridDelete(n,e)}),r._uU(5,"Delete"),r.qZA(),r.qZA()}}function ut(t,e){if(1&t&&(r.TgZ(0,"th",16),r._uU(1),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(1),r.Oqu(t.header)}}function gt(t,e){if(1&t&&(r.TgZ(0,"td",11),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw().$implicit;r.xp6(1),r.Oqu(n.displayName?t[n.displayName]:t[n.columnDef])}}function mt(t,e){1&t&&(r.ynx(0,14),r.YNc(1,ut,2,1,"th",15),r.YNc(2,gt,2,1,"td",4),r.BQk()),2&t&&r.s9C("matColumnDef",e.$implicit.columnDef)}function pt(t,e){1&t&&r._UZ(0,"tr",17)}function ht(t,e){1&t&&r._UZ(0,"tr",18)}function ft(t,e){1&t&&(r.TgZ(0,"div",19),r._UZ(1,"mat-progress-spinner",20),r.qZA())}const bt=function(){return[5,10,20]};let yt=(()=>{class t{constructor(t){this.matDialog=t,this.openDetailDialog=new r.vpe,this.sortData=it,this.pageData=at,this.isLoading=!0}ngOnInit(){this.setSource(),this.gridRead()}ngOnDestroy(){this.subscription.unsubscribe()}setSource(){this.detail.subscribe(t=>{this.read=t.read,this.create=t.create,this.edit=t.edit,this.delete=t.delete,this.displayedColumns=rt(t.columns),this.openDetailDialog.emit(ct(this.matDialog,t.columns,()=>{this.gridRead()}))})}gridRead(){this.subscription=this.read().subscribe(t=>{this.isLoading=!1;const e=(0,_.$N)(t);this.dataSource=new I.by(e),this.pageNation()},t=>this.isLoading=!1)}gridDelete(t,e){this.delete(t,e),this.gridRead()}pageNation(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(et.uw))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-detail"]],viewQuery:function(t,e){if(1&t&&(r.Gf(Q.NW,7),r.Gf(F.YE,7)),2&t){let t;r.iGM(t=r.CRH())&&(e.paginator=t.first),r.iGM(t=r.CRH())&&(e.sort=t.first)}},inputs:{detail:"detail"},outputs:{openDetailDialog:"openDetailDialog"},decls:14,vars:15,consts:[["id","btnAdd","mat-raised-button","",1,"dark-theme",2,"font-size","1em",3,"click"],["mat-table","","matSort","",3,"matSortActive","matSortDirection","dataSource","matSortChange"],["matColumnDef","maintain"],["mat-header-cell","","style","width: 20%;",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","loading",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions","page"],["mat-header-cell","",2,"width","20%"],["mat-cell",""],["id","btnEdit","mat-raised-button","","color","accent",3,"click"],["id","btnDelete","mat-raised-button","","color","warn",3,"click"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""],[1,"loading"],["color","primary","mode","indeterminate"]],template:function(t,e){if(1&t&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return e.create()}),r._uU(1,"Add"),r.qZA(),r.TgZ(2,"table",1),r.NdJ("matSortChange",function(t){return e.sortData(t)}),r.ALo(3,"async"),r.ALo(4,"async"),r.ynx(5,2),r.YNc(6,st,1,0,"th",3),r.YNc(7,dt,6,0,"td",4),r.BQk(),r.YNc(8,mt,3,1,"ng-container",5),r.ALo(9,"async"),r.YNc(10,pt,1,0,"tr",6),r.YNc(11,ht,1,0,"tr",7),r.qZA(),r.YNc(12,ft,2,0,"div",8),r.TgZ(13,"mat-paginator",9),r.NdJ("page",function(t){return e.pageData(t)}),r.qZA()),2&t){let t,n,o;r.xp6(2),r.s9C("matSortActive",null==(t=r.lcZ(3,8,e.detail))?null:t.sort.active),r.s9C("matSortDirection",null==(n=r.lcZ(4,10,e.detail))?null:n.sort.direction),r.Q6J("dataSource",e.dataSource),r.xp6(6),r.Q6J("ngForOf",null==(o=r.lcZ(9,12,e.detail))?null:o.columns),r.xp6(2),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(1),r.Q6J("ngIf",e.isLoading),r.xp6(1),r.Q6J("pageSizeOptions",r.DdM(14,bt))}},directives:[M.lW,I.BZ,F.YE,I.w1,I.fO,I.Dz,o.sg,I.as,I.nj,o.O5,Q.NW,I.ge,I.ev,F.nU,I.XQ,I.Gk,lt.Ou],pipes:[o.Ov],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}table[_ngcontent-%COMP%]{width:100%}"]}),t})();function Dt(t,e){1&t&&r._UZ(0,"th",12)}function Zt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",17),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit,n=r.oxw();return n.currentElement=n.currentElement===e?null:e}),r.TgZ(1,"mat-icon"),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=r.oxw().$implicit,e=r.oxw();r.xp6(2),r.Oqu(t===e.currentElement?"arrow_drop_down":"arrow_right")}}function Ct(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",13),r.YNc(1,Zt,3,1,"button",14),r.TgZ(2,"button",15),r.NdJ("click",function(e){const n=r.CHM(t).$implicit;return r.oxw().edit(n,e)}),r._uU(3,"Edit"),r.qZA(),r._uU(4,"\xa0 "),r.TgZ(5,"button",16),r.NdJ("click",function(e){const n=r.CHM(t).$implicit;return r.oxw().gridDelete(n,e)}),r._uU(6,"Delete"),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.isHasDetail)}}function vt(t,e){if(1&t&&(r.TgZ(0,"th",20),r._uU(1),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(1),r.Oqu(t.header)}}function wt(t,e){if(1&t&&(r.TgZ(0,"td",13),r._uU(1),r.qZA()),2&t){const t=e.$implicit,n=r.oxw().$implicit;r.xp6(1),r.Oqu(n.displayName?t[n.displayName]:t[n.columnDef])}}function At(t,e){1&t&&(r.ynx(0,18),r.YNc(1,vt,2,1,"th",19),r.YNc(2,wt,2,1,"td",4),r.BQk()),2&t&&r.s9C("matColumnDef",e.$implicit.columnDef)}function xt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",26),r.TgZ(1,"app-detail",27),r.NdJ("openDetailDialog",function(e){return r.CHM(t),r.oxw(3).initDetailHandler(e)}),r.ALo(2,"async"),r.qZA(),r.qZA()}if(2&t){const t=r.oxw().$implicit,e=r.oxw(2);let n;r.xp6(1),r.Q6J("detail",null==(n=r.lcZ(2,1,e.grid))?null:n.detail(t))}}function _t(t,e){if(1&t&&(r.TgZ(0,"td",23),r.TgZ(1,"div",24),r.YNc(2,xt,3,3,"div",25),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(2);r.uIk("colspan",n.displayedColumns.length),r.xp6(1),r.Q6J("@detailExpand",t===n.currentElement?"expanded":"collapsed"),r.xp6(1),r.Q6J("ngIf",t===n.currentElement)}}function Ot(t,e){1&t&&(r.ynx(0,21),r.YNc(1,_t,3,3,"td",22),r.BQk())}function Tt(t,e){1&t&&r._UZ(0,"tr",28)}function Mt(t,e){1&t&&r._UZ(0,"tr",29)}function Pt(t,e){1&t&&r._UZ(0,"tr",30)}function qt(t,e){1&t&&(r.TgZ(0,"div",31),r._UZ(1,"mat-progress-spinner",32),r.qZA())}const Nt=function(){return["expandedDetail"]},kt=function(){return[]},St=function(){return[5,10,20]};let Ut=(()=>{class t{constructor(t){this.matDialog=t,this.openTableDialog=new r.vpe,this.openDetailDialog=new r.vpe,this.sortData=it,this.pageData=at,this.isLoading=!0}ngOnInit(){this.setSource(),this.gridRead()}ngOnChanges(t){t.grid&&void 0!==this.grid&&void 0!==this.read&&this.gridRead()}ngOnDestroy(){this.subscription.unsubscribe()}setSource(){this.grid.subscribe(t=>{this.read=t.read,this.create=t.create,this.edit=t.edit,this.delete=t.delete,this.isHasDetail=null!=t.detail,this.tableSort=new d.y(e=>{e.next(t.sort),e.complete()}),this.columns=t.columns,this.displayedColumns=rt(t.columns),this.openTableDialog.emit(ct(this.matDialog,t.columns,()=>{this.gridRead()}))})}gridRead(){this.subscription=this.read().subscribe(t=>{this.isLoading=!1;const e=(0,_.$N)(t);this.dataSource=new I.by(e),this.pageNation()},t=>this.isLoading=!1)}gridDelete(t,e){this.delete(t,e),this.gridRead()}pageNation(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}initDetailHandler(t){this.openDetailDialog.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(et.uw))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-table"]],viewQuery:function(t,e){if(1&t&&(r.Gf(Q.NW,7),r.Gf(F.YE,7)),2&t){let t;r.iGM(t=r.CRH())&&(e.paginator=t.first),r.iGM(t=r.CRH())&&(e.sort=t.first)}},inputs:{grid:"grid"},outputs:{openTableDialog:"openTableDialog",openDetailDialog:"openDetailDialog"},features:[r.TTD],decls:15,vars:17,consts:[["id","btnAdd","mat-raised-button","","aria-label","Add",1,"dark-theme",2,"font-size","1em",3,"click"],["mat-table","","matSort","","multiTemplateDataRows","",3,"matSortActive","matSortDirection","dataSource","matSortChange"],["matColumnDef","maintain"],["mat-header-cell","","style","width: 20%;",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["class","loading",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions","page"],["mat-header-cell","",2,"width","20%"],["mat-cell",""],["mat-icon-button","","aria-label","Detail",3,"click",4,"ngIf"],["id","btnEdit","mat-raised-button","","color","accent","aria-label","Edit",3,"click"],["id","btnDelete","mat-raised-button","","color","warn","aria-label","Delete",3,"click"],["mat-icon-button","","aria-label","Detail",3,"click"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["matColumnDef","expandedDetail"],["mat-cell","","class","detail",4,"matCellDef"],["mat-cell","",1,"detail"],[1,"detail-element"],["class","detail-table",4,"ngIf"],[1,"detail-table"],[3,"detail","openDetailDialog"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"detail-row"],[1,"loading"],["color","primary","mode","indeterminate"]],template:function(t,e){if(1&t&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return e.create()}),r._uU(1,"Add"),r.qZA(),r.TgZ(2,"table",1),r.NdJ("matSortChange",function(t){return e.sortData(t)}),r.ALo(3,"async"),r.ALo(4,"async"),r.ynx(5,2),r.YNc(6,Dt,1,0,"th",3),r.YNc(7,Ct,7,1,"td",4),r.BQk(),r.YNc(8,At,3,1,"ng-container",5),r.YNc(9,Ot,2,0,"ng-container",6),r.YNc(10,Tt,1,0,"tr",7),r.YNc(11,Mt,1,0,"tr",8),r.YNc(12,Pt,1,0,"tr",9),r.qZA(),r.YNc(13,qt,2,0,"div",10),r.TgZ(14,"mat-paginator",11),r.NdJ("page",function(t){return e.pageData(t)}),r.qZA()),2&t){let t,n;r.xp6(2),r.s9C("matSortActive",null==(t=r.lcZ(3,10,e.tableSort))?null:t.active),r.s9C("matSortDirection",null==(n=r.lcZ(4,12,e.tableSort))?null:n.direction),r.Q6J("dataSource",e.dataSource),r.xp6(6),r.Q6J("ngForOf",e.columns),r.xp6(1),r.Q6J("ngIf",e.isHasDetail),r.xp6(1),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.isHasDetail?r.DdM(14,Nt):r.DdM(15,kt)),r.xp6(1),r.Q6J("ngIf",e.isLoading),r.xp6(1),r.Q6J("pageSizeOptions",r.DdM(16,St))}},directives:[M.lW,I.BZ,F.YE,I.w1,I.fO,I.Dz,o.sg,o.O5,I.as,I.nj,Q.NW,I.ge,I.ev,Z.Hw,F.nU,yt,I.XQ,I.Gk,lt.Ou],pipes:[o.Ov],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}table[_ngcontent-%COMP%]{width:100%}tr.detail-row[_ngcontent-%COMP%]{height:0;background-color:#0000001f}.detail[_ngcontent-%COMP%]{border-bottom:0}.detail-element[_ngcontent-%COMP%]{overflow:hidden;display:flex;padding-left:2.4%;padding-right:2.4%}.detail-table[_ngcontent-%COMP%]{width:100%;padding:5px 5px 2.5%}"],data:{animation:[(0,H.X$)("detailExpand",[(0,H.SB)("collapsed",(0,H.oB)({height:"0px",minHeight:"0"})),(0,H.SB)("expanded",(0,H.oB)({height:"*"})),(0,H.eR)("expanded <=> collapsed",(0,H.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]},changeDetection:0}),t})();function Gt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"app-table",1),r.NdJ("openTableDialog",function(e){return r.CHM(t),r.oxw().openTableDialog=e}),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(2),r.Q6J("grid",t.myGrid)}}let Jt=(()=>{class t{constructor(t,e,n){this.store=t,this.userService=e,this.roleService=n}ngOnInit(){this.loadGrid()}loadGrid(){this.myGrid=new d.y(t=>{t.next({tableName:h.f.Users,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:J.string,selector:J.label,visible:!1},{header:"Name",columnDef:"name",type:J.string,selector:J.input},{header:"Password",columnDef:"password",type:J.string,selector:J.input},{header:"Role",columnDef:"role",displayName:"roleName",type:J.string,selector:J.select,source:()=>this.roleService.getAll()}],read:()=>this.userService.getAll(),create:()=>{const t=this.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[G.K.btnCreate,G.K.btnCancel],method:G.K.create,data:{},confirm:()=>{this.store.dispatch(new p.Qj(h.f.Users,[],t.getData()))}})},edit:t=>{const e=this.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[G.K.btnEdit,G.K.btnCancel],method:G.K.edit,data:t,confirm:()=>{this.store.dispatch(new p.I8(h.f.Users,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new p.HG(h.f.Users,[],t))}}),t.complete()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(f.yh),r.Y36(Y.K),r.Y36(y.N))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-user"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog"]],template:function(t,e){1&t&&r.YNc(0,Gt,3,1,"div",0)},directives:[R,D.a8,Ut],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}table[_ngcontent-%COMP%]{width:100%}"]}),t})();function Yt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"app-table",1),r.NdJ("openTableDialog",function(e){return r.CHM(t),r.oxw().openTableDialog=e}),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(2),r.Q6J("grid",t.myGrid)}}let Rt=(()=>{class t{constructor(t,e){this.store=t,this.roleService=e}ngOnInit(){this.loadGrid()}loadGrid(){this.myGrid=new d.y(t=>{t.next({tableName:h.f.Roles,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:J.string,selector:J.label,visible:!1},{header:"Name",columnDef:"name",type:J.string,selector:J.input},{header:"Remark",columnDef:"remark",type:J.string,selector:J.input}],read:()=>this.roleService.getAll(),create:()=>{const t=this.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[G.K.btnCreate,G.K.btnCancel],method:G.K.create,data:{},confirm:()=>{this.store.dispatch(new p.Qj(h.f.Roles,[],t.getData()))}})},edit:t=>{const e=this.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[G.K.btnEdit,G.K.btnCancel],method:G.K.edit,data:t,confirm:()=>{this.store.dispatch(new p.I8(h.f.Roles,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new p.HG(h.f.Roles,[],t))}}),t.complete()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(f.yh),r.Y36(y.N))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-role"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog"]],template:function(t,e){1&t&&r.YNc(0,Yt,3,1,"div",0)},directives:[R,D.a8,Ut],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}table[_ngcontent-%COMP%]{width:100%}"]}),t})();var Ft=n(7176),It=n(7452);function Qt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"app-table",1),r.NdJ("openTableDialog",function(e){return r.CHM(t),r.oxw().openTableDialog=e})("openDetailDialog",function(e){return r.CHM(t),r.oxw().openDetailDialog=e}),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(2),r.Q6J("grid",t.myGrid)}}function Ht(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"mat-card"),r.TgZ(2,"app-table",1),r.NdJ("openTableDialog",function(e){return r.CHM(t),r.oxw().openTableDialog=e})("openDetailDialog",function(e){return r.CHM(t),r.oxw().openDetailDialog=e}),r.qZA(),r.qZA(),r._UZ(3,"div"),r.qZA()}if(2&t){const t=r.oxw();r.xp6(2),r.Q6J("grid",t.myGrid)}}const Kt=[{path:"",component:U,canActivate:[c],children:[{path:"User",component:Jt,canActivate:[m]},{path:"Role",component:Rt,canActivate:[m]},{path:"Group",component:(()=>{class t{constructor(t,e,n,o,i,a){this.store=t,this.groupProgramService=e,this.roleService=n,this.programService=o,this.groupService=i,this.buttonService=a}ngOnInit(){this.loadGrid()}loadGrid(){this.myGrid=new d.y(t=>{t.next({tableName:h.f.Groups,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:J.string,selector:J.label,visible:!1},{header:"Name",columnDef:"name",type:J.string,selector:J.input},{header:"Roles",columnDef:"roles",displayName:"rolesName",type:J.string,selector:J.multiselect,source:()=>this.roleService.getAll()}],detail:t=>new d.y(e=>{e.next({tableName:h.f.GroupPrograms,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:J.string,selector:J.label,visible:!1},{header:"Name",columnDef:"name",type:J.string,selector:J.input},{header:"Program",columnDef:"program",displayName:"programName",type:J.string,selector:J.select,source:()=>this.programService.getAll()},{header:"Button",columnDef:"buttons",displayName:"buttonsName",type:J.string,selector:J.multiselect,source:()=>this.buttonService.getAll()}],read:()=>this.groupProgramService.getByGroupId(t.id),create:()=>{const e=this.openDetailDialog({title:"\u65b0\u589e\u9801\u9762",button:[G.K.btnCreate,G.K.btnCancel],method:G.K.create,data:{},onChanges:t=>{"program"===t.source.ngControl.name&&(e.ComponentDictionary.buttons.source=this.buttonService.getByProgramId(t.value))},confirm:()=>{const n=e.getData();n.group=t.id,console.log(n),this.store.dispatch(new p.Qj(h.f.GroupPrograms,[],n))}})},edit:t=>{const e=this.openDetailDialog({title:"\u4fee\u6539\u9801\u9762",button:[G.K.btnEdit,G.K.btnCancel],method:G.K.edit,data:t,onChanges:t=>{"program"===t.source.ngControl.name&&(e.ComponentDictionary.buttons.source=this.buttonService.getByProgramId(t.value))},confirm:()=>{this.store.dispatch(new p.I8(h.f.GroupPrograms,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new p.HG(h.f.GroupPrograms,[],t))}}),e.complete()}),read:()=>this.groupService.getAll(),create:()=>{const t=this.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[G.K.btnCreate,G.K.btnCancel],method:G.K.create,data:{},confirm:()=>{this.store.dispatch(new p.Qj(h.f.Groups,[],t.getData()))}})},edit:t=>{const e=this.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[G.K.btnEdit,G.K.btnCancel],method:G.K.edit,data:t,confirm:()=>{this.store.dispatch(new p.I8(h.f.Groups,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new p.HG(h.f.Groups,[],t))}}),t.complete()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(f.yh),r.Y36(g.i),r.Y36(y.N),r.Y36(Ft.Z),r.Y36(b.l),r.Y36(It.q))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-group"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog","openDetailDialog"]],template:function(t,e){1&t&&r.YNc(0,Qt,3,1,"div",0)},directives:[R,D.a8,Ut],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[m]},{path:"Program",component:(()=>{class t{constructor(t,e,n){this.store=t,this.programService=e,this.buttonService=n}ngOnInit(){this.loadGrid()}loadGrid(){this.myGrid=new d.y(t=>{t.next({tableName:h.f.Programs,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:J.string,selector:J.label,visible:!1},{header:"Name",columnDef:"name",type:J.string,selector:J.input},{header:"Remark",columnDef:"remark",type:J.string,selector:J.input},{header:"LinkTag",columnDef:"linkTag",type:J.string,selector:J.input}],detail:t=>new d.y(e=>{e.next({tableName:h.f.Buttons,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:J.string,selector:J.label,visible:!1},{header:"Name",columnDef:"name",type:J.string,selector:J.input},{header:"Remark",columnDef:"remark",type:J.string,selector:J.input}],read:()=>this.buttonService.getByProgramId(t.id),create:()=>{const e=this.openDetailDialog({title:"\u65b0\u589e\u9801\u9762",button:[G.K.btnCreate,G.K.btnCancel],method:G.K.create,data:{}});e.confirm=()=>{const n=e.getData();n.program=t.id,this.store.dispatch(new p.Qj(h.f.Buttons,[],n))}},edit:t=>{const e=this.openDetailDialog({title:"\u4fee\u6539\u9801\u9762",button:[G.K.btnEdit,G.K.btnCancel],method:G.K.edit,data:t,confirm:()=>{this.store.dispatch(new p.I8(h.f.Buttons,[],e.getData())),console.log(e)}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new p.HG(h.f.Buttons,[],t))}}),e.complete()}),read:()=>this.programService.getAll(),create:()=>{const t=this.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[G.K.btnCreate,G.K.btnCancel],method:G.K.create,data:{},confirm:()=>{this.store.dispatch(new p.Qj(h.f.Programs,[],t.getData()))}})},edit:t=>{const e=this.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[G.K.btnEdit,G.K.btnCancel],method:G.K.edit,data:t,confirm:()=>{this.store.dispatch(new p.I8(h.f.Programs,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new p.HG(h.f.Programs,[],t))}}),t.complete()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(f.yh),r.Y36(Ft.Z),r.Y36(It.q))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-program"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog","openDetailDialog"]],template:function(t,e){1&t&&r.YNc(0,Ht,4,1,"div",0)},directives:[R,D.a8,Ut],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[m]},{path:"Menu",component:(()=>{class t{constructor(t,e,n){this.store=t,this.menuService=e,this.programService=n}ngOnInit(){this.loadGrid()}loadGrid(){this.myGrid=new d.y(t=>{t.next({tableName:h.f.Menus,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:J.string,selector:J.label,visible:!1},{header:"Name",columnDef:"name",type:J.string,selector:J.input},{header:"Program",columnDef:"program",displayName:"programName",type:J.string,selector:J.select,source:()=>this.programService.getAll()}],read:()=>this.menuService.getAll(),create:()=>{const t=this.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[G.K.btnCreate,G.K.btnCancel],method:G.K.create,data:{},confirm:()=>{this.store.dispatch(new p.Qj(h.f.Menus,[],t.getData()))}})},edit:t=>{const e=this.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[G.K.btnEdit,G.K.btnCancel],method:G.K.edit,data:t,confirm:()=>{this.store.dispatch(new p.I8(h.f.Menus,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new p.HG(h.f.Menus,[],t))}}),t.complete()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(f.yh),r.Y36(u.h),r.Y36(Ft.Z))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-menu"]],decls:2,vars:1,consts:[[3,"grid","openTableDialog"]],template:function(t,e){1&t&&(r.TgZ(0,"mat-card"),r.TgZ(1,"app-table",0),r.NdJ("openTableDialog",function(t){return e.openTableDialog=t}),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.Q6J("grid",e.myGrid))},directives:[D.a8,Ut],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:white}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[m]},{path:"Dashboard",component:x,canActivate:[c]},{path:"",redirectTo:"Dashboard"},{path:"**",redirectTo:"Dashboard"}]}];let Et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[a.Bz.forChild(Kt)],a.Bz]}),t})();var Lt=n(9870);let Bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.ez,i.u5,i.UX,Lt.q]]}),t})(),jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),$t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.ez,i.u5,i.UX,Lt.q,Et,Bt,jt]]}),t})()}}]);